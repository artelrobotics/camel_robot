<?xml version="1.0"?>
<launch>
    <arg name="robot_name"            default="$(env ROBOT_NAME)" />
    <arg name="base_frame"            default="base_link" />
    <arg name="output"                default="screen" />
    <arg name="addr" default="" />
    <arg name="dof" default="2" />
    <arg name="stamped" default="false" />

    <!-- Roboteq drivers -->
    <!-- bms -->
    <node name="bms"  pkg="roboteq_bms" type="roboteq_bms.py"  output="$(arg output)"  required='true'>
        <param name="port"         value="/dev/RoboteqBMS"/>
        <param name="baud"         value="115200"/>
        <param name="desired_freq" value="2"/>
    </node>
   
    <!-- motor driver -->
    <node name = "driver" pkg = "roboteq_motor_controller_driver" type = "roboteq_motor_controller_driver_node" output="$(arg output)" required='true'>
        <rosparam command="load" file="$(find camel_robot)/config/bringup/motor_driver_config.yaml" />
        <param name="port"  value="/dev/RoboteqDriver"/>
        <param name="baud"  value="115200"/>
    </node>

    <!-- DualShock4 -->
    <node pkg="ds4_driver" type="ds4_driver_node.py" name="ds4_driver" output="screen" >
        <param name="backend" value="bluetooth" />
        <param name="device_addr" value="" />
        <param name="use_standard_msgs" value="false"/>
    </node>
    <node pkg="ds4_driver" type="ds4_twist_node.py" name="ds4_twist" output="screen" >
        <rosparam command="load" file="$(find camel_robot)/config/bringup/ds4_2dof_config.yaml" />
        <param name="stamped" value="false" />
        <remap from="/$(arg robot_name)/cmd_vel" to="/$(arg robot_name)/driver/cmd_vel"/>
    </node>


</launch>