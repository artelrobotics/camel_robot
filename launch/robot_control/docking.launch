<?xml version="1.0"?>
<launch>
    <arg name="output"                default="screen" />
    <arg name="marker_size"           default="11.45" />
	<arg name="max_new_marker_error"  default="0.02" />
	<arg name="max_track_error"       default="0.5" />
	<arg name="cam_image_topic"       default="/camel_amr_1000_001/front/zed/rgb_raw/image_raw_color" />
	<arg name="cam_info_topic"        default="/camel_amr_1000_001/front/zed/rgb_raw/camera_info" />
	<arg name="output_frame"          default="camel_amr_1000_001/base" />
    
    <!-- Aruco detection -->
    <node name="ar_track_alvar" pkg="ar_track_alvar" type="individualMarkersNoKinect" respawn="false" output="screen">
		<param name="marker_size"           type="double" value="$(arg marker_size)" />
		<param name="max_new_marker_error"  type="double" value="$(arg max_new_marker_error)" />
		<param name="max_track_error"       type="double" value="$(arg max_track_error)" />
		<param name="output_frame"          type="string" value="$(arg output_frame)" />

		<remap from="camera_image"  to="$(arg cam_image_topic)" />
		<remap from="camera_info"   to="$(arg cam_info_topic)" />
	</node>

    <!-- Motion Control-->
    <node pkg="camel_robot" name="motion_control" type="motion_control.py" output="$(arg output)"  required='true' ns="common">
        <rosparam command="load" file="$(find camel_robot)/config/robot_control/motion_control.yaml" />
    </node> 


</launch>